{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst FORM = document.querySelector('form');\nconst TOAST_DEFAULT_OPTIONS = {\n  position: 'topRight',\n  messageColor: '#fff',\n};\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        res({ position, delay });\n      } else {\n        rej({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nfunction showToast(position, delay, isSuccess) {\n  iziToast.show({\n    ...TOAST_DEFAULT_OPTIONS,\n    message: isSuccess\n      ? `✅ Fulfilled promise ${position} in ${delay}ms`\n      : `❌ Rejected promise ${position} in ${delay}ms`,\n    color: isSuccess ? '#7dc67d' : '#ef5350',\n  });\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const {\n    target: {\n      elements: {\n        delay: delayElement,\n        step: stepElement,\n        amount: amountElement,\n      },\n    },\n  } = event;\n\n  for (let i = 0; i < Number(amountElement.value); i++) {\n    const position = i + 1;\n    const delayPromise =\n      Number(delayElement.value) + Number(stepElement.value) * i;\n    createPromise(position, delayPromise)\n      .then(({ position, delay }) => {\n        showToast(position, delay, true);\n      })\n      .catch(({ position, delay }) => {\n        showToast(position, delay, false);\n      });\n  }\n  delayElement.value = '';\n  stepElement.value = '';\n  amountElement.value = '';\n}\n\nFORM.addEventListener('submit', onSubmit);\n"],"names":["FORM","TOAST_DEFAULT_OPTIONS","createPromise","position","delay","shouldResolve","res","rej","showToast","isSuccess","iziToast","onSubmit","event","delayElement","stepElement","amountElement","i","delayPromise"],"mappings":"wIAGA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAwB,CAC5B,SAAU,WACV,aAAc,MAChB,EAEA,SAASC,EAAcC,EAAUC,EAAO,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAAKC,IAAQ,CAC/B,WAAW,IAAM,CACXF,EACFC,EAAI,CAAE,SAAAH,EAAU,MAAAC,CAAK,CAAE,EAEvBG,EAAI,CAAE,SAAAJ,EAAU,MAAAC,CAAK,CAAE,CAE1B,EAAEA,CAAK,CACZ,CAAG,CACH,CAEA,SAASI,EAAUL,EAAUC,EAAOK,EAAW,CAC7CC,EAAS,KAAK,CACZ,GAAGT,EACH,QAASQ,EACL,uBAAuBN,QAAeC,MACtC,sBAAsBD,QAAeC,MACzC,MAAOK,EAAY,UAAY,SACnC,CAAG,CACH,CAEA,SAASE,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,KAAM,CACJ,OAAQ,CACN,SAAU,CACR,MAAOC,EACP,KAAMC,EACN,OAAQC,CACT,CACF,CACF,EAAGH,EAEJ,QAASI,EAAI,EAAGA,EAAI,OAAOD,EAAc,KAAK,EAAGC,IAAK,CACpD,MAAMb,EAAWa,EAAI,EACfC,EACJ,OAAOJ,EAAa,KAAK,EAAI,OAAOC,EAAY,KAAK,EAAIE,EAC3Dd,EAAcC,EAAUc,CAAY,EACjC,KAAK,CAAC,CAAE,SAAAd,EAAU,MAAAC,KAAY,CAC7BI,EAAUL,EAAUC,EAAO,EAAI,CACvC,CAAO,EACA,MAAM,CAAC,CAAE,SAAAD,EAAU,MAAAC,KAAY,CAC9BI,EAAUL,EAAUC,EAAO,EAAK,CACxC,CAAO,CACJ,CACDS,EAAa,MAAQ,GACrBC,EAAY,MAAQ,GACpBC,EAAc,MAAQ,EACxB,CAEAf,EAAK,iBAAiB,SAAUW,CAAQ"}